{% extends "base.html" %}
{% block content %}
<div class="container items-page">
  <div class="top-strip card">
    <h1>√çtems disponibles</h1>
    <p class="motivational-phrase">üí° Comparte lo que no usas y encuentra lo que necesitas.</p>
  </div>

  {% if items %}
  <div class="items-grid">
    {% for item in items %}
    <div class="card item-card">
      <h3 class="item-title">{{ item.name }}</h3>
      <p class="item-desc"><strong>Descripci√≥n:</strong> {{ item.description }}</p>
      <p class="item-type"><strong>Tipo:</strong> {{ item.item_type }}</p>
      <p class="item-terms"><strong>T√©rminos:</strong> {{ item.item_terms }}</p>
      <form method="POST" action="{{ url_for('request_item', item_id=item.item_id) }}" class="request-form">
        <button type="submit" class="btn btn-primary">Solicitar √çtem</button>
      </form>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="card no-items-message">
    <p>No hay √≠tems disponibles.</p>
  </div>
  {% endif %}
</div>
{% endblock %}

{% block styles %}
<style>
:root {
  --green-dark:   #2C5F2D;
  --green-medium: #97BC62;
  --green-light:  #D9E5D9;
  --bg-light:     #F7F9F7;
  --text-dark:    #333333;
  --radius:       12px;
  --shadow-light: rgba(0,0,0,0.05);
}

.container.items-page {
  max-width: 900px;
  margin: 2rem auto;
  padding: 0 1rem;
  font-family: 'Montserrat', sans-serif;
  background: var(--bg-light);
  color: var(--text-dark);
}

.top-strip {
  background: var(--green-light);
  padding: 1.5rem;
  border-radius: var(--radius);
  box-shadow: 0 4px 12px var(--shadow-light);
  margin-bottom: 2rem;
  text-align: center;
}
.top-strip h1 {
  margin: 0 0 0.5rem;
  color: var(--green-dark);
  font-size: 2rem;
}
.top-strip .motivational-phrase {
  margin: 0;
  font-style: italic;
}

.items-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.item-card {
  background: #fff;
  border-radius: var(--radius);
  box-shadow: 0 2px 8px var(--shadow-light);
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
}

.item-title {
  margin: 0 0 0.75rem;
  color: var(--green-dark);
  font-size: 1.4rem;
}

.item-type,
.item-terms,
.item-desc {
  margin: 0.5rem 0;
}

.request-form {
  margin-top: auto;
  text-align: center;
}
.request-form .btn-primary {
  background: var(--green-medium);
  padding: 0.6rem 1.2rem;
}
.request-form .btn-primary:hover {
  background: var(--green-dark);
}

.no-items-message {
  background: #fff;
  padding: 2rem;
  border-radius: var(--radius);
  box-shadow: 0 2px 8px var(--shadow-light);
  text-align: center;
}
</style>
{% endblock %}